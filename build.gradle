group = 'me.feeldev'
version = '1.0.0'

configure(subprojects.findAll { it.name == 'common' }) {
    apply plugin: 'java'
}

subprojects {
    apply(plugin: 'java-library')
    apply(plugin: 'maven-publish')

    java {
        toolchain.languageVersion.set(JavaLanguageVersion.of(21))
    }

    repositories {
        mavenCentral()
        maven { url 'https://repo.papermc.io/repository/maven-public/' }
        maven { url 'https://maven.fabricmc.net/' }
    }

    // Configuramos la versi칩n de Java para todos
    java {
        toolchain.languageVersion = JavaLanguageVersion.of(21)
    }

    // Configuramos la publicaci칩n para todos
    publishing {
        publications {
            register('maven', MavenPublication) {
                // Las coordenadas se toman de las propiedades del proyecto
                groupId = project.group
                artifactId = project.name // El nombre del m칩dulo (e.g., 'common')
                version = project.version

                // El contenido ser치 el JAR generado por Java
                from components.java
            }
        }
    }
}