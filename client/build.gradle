plugins {
    id 'fabric-loom' version '1.9-SNAPSHOT'
}

dependencies {
    minecraft "com.mojang:minecraft:${project.minecraft_version}"
    mappings "net.fabricmc:yarn:${project.yarn_mappings}:v2"
    modImplementation "net.fabricmc:fabric-loader:${project.loader_version}"

    modImplementation "net.fabricmc.fabric-api:fabric-api:${project.fabric_version}"

    implementation project(path: ':common', configuration: 'dev')
}

publishing {
    publications {
        named('maven', MavenPublication) { // Accedemos a la publicación 'maven' ya existente
            artifacts.clear() // Limpiamos los artefactos por defecto (que podrían ser el JAR no remapeado)
            artifact tasks.named('remapJar') // Usamos el output de la tarea remapJar de Loom

            // Opcional: si también quieres publicar las fuentes
            // artifact(tasks.named('sourcesJar')) {
            //     classifier = "sources"
            // }
        }
    }
}